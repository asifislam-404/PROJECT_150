<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BankApp ‚Äî Admin Panel</title>
  <style>
    :root{
      --accent:#667eea;
      --accent-2:#764ba2;
      --bg:#f6f8fb;
      --card:#ffffff;
      --muted:#6b7280;
      --radius:12px;
      --shadow: 0 6px 20px rgba(102,126,234,0.08);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:var(--bg);color:#0f172a}
    a{color:inherit}
    /* Layout */
    .app {
      display: grid;
      grid-template-columns: 260px 1fr;
      min-height:100vh;
    }
    .sidebar {
      background: linear-gradient(180deg,#fff,#fbfdff);
      border-right:1px solid rgba(15,23,42,0.04);
      padding:20px;
      position:sticky;
      top:0;
      height:100vh;
      overflow:auto;
    }
    .brand {
      display:flex;gap:12px;align-items:center;margin-bottom:18px;
    }
    .brand img{width:48px;height:48px;border-radius:10px;object-fit:cover}
    .brand h1{font-size:18px;margin:0;color:var(--accent)}
    .sidebar nav{margin-top:8px}
    .nav-link{
      display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:10px;color: #24303f;
      font-weight:600;margin-bottom:6px;text-decoration:none;
    }
    .nav-link:hover{background:rgba(102,126,234,0.06);color:var(--accent)}
    .nav-link.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff}
    .sidebar .small{color:var(--muted);font-size:13px;margin-top:10px}

    /* Header */
    .header {
      display:flex;align-items:center;justify-content:space-between;padding:18px 22px;background:transparent;position:sticky;top:0;z-index:50;
      border-bottom:1px solid rgba(15,23,42,0.04);backdrop-filter: blur(4px);
    }
    .search {
      display:flex;gap:10px;align-items:center;background:#fff;padding:8px 12px;border-radius:999px;box-shadow:var(--shadow);
      width:360px;max-width:60%;
    }
    .search input{border:0;outline:none;font-size:14px;width:100%;background:transparent}
    .actions{display:flex;gap:8px;align-items:center}
    .avatar{width:40px;height:40px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}

    /* Main content */
    .main {
      padding:22px;
    }

    .kpis {display:flex;gap:16px;margin-bottom:18px;flex-wrap:wrap}
    .card {
      background:var(--card);padding:18px;border-radius:12px;box-shadow:var(--shadow);border:1px solid rgba(15,23,42,0.04);
      min-width:0;
    }
    .kpi {flex:1;min-width:210px;display:flex;justify-content:space-between;align-items:center;gap:12px}
    .kpi .value{font-size:20px;font-weight:700;color:#111}
    .kpi .label{font-size:13px;color:var(--muted)}

    .panel {display:flex;gap:16px;flex-wrap:wrap}
    .panel .half {flex:1;min-width:320px}

    /* table */
    .table-wrap{margin-top:12px;background:var(--card);border-radius:12px;padding:8px;box-shadow:var(--shadow);border:1px solid rgba(15,23,42,0.04)}
    table{width:100%;border-collapse:collapse;font-size:14px}
    th,td{padding:12px 10px;text-align:left;border-bottom:1px solid rgba(15,23,42,0.04)}
    th{font-weight:700;color:var(--muted);font-size:13px}
    tr:last-child td{border-bottom:0}
    .pill {display:inline-block;padding:6px 10px;border-radius:999px;font-weight:700;font-size:13px}
    .pill.success{background:rgba(10,207,131,0.12);color:#0abf7f}
    .pill.warn{background:rgba(255,193,7,0.10);color:#b38600}
    .pill.gray{background:rgba(15,23,42,0.04);color:var(--muted)}

    /* Quick actions */
    .quick{display:flex;gap:10px;flex-wrap:wrap}
    .btn {
      border:0;padding:10px 14px;border-radius:10px;font-weight:700;cursor:pointer;background:var(--accent);color:#fff;
      box-shadow: 0 6px 18px rgba(102,126,234,0.12);
    }
    .btn.ghost{background:#fff;color:var(--accent);border:1px solid rgba(102,126,234,0.14)}
    .btn.small{padding:8px 10px;border-radius:8px;font-weight:600}

    /* modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.45);display:none;align-items:center;justify-content:center;z-index:2000}
    .modal{background:var(--card);width:520px;max-width:94%;padding:18px;border-radius:12px;box-shadow:0 20px 60px rgba(2,6,23,0.4)}
    .form-row{display:flex;gap:10px}
    .form-group{display:flex;flex-direction:column;margin-bottom:10px;flex:1}
    label{font-size:13px;color:var(--muted);margin-bottom:6px}
    input[type="text"], input[type="email"], select, input[type="number"]{
      padding:10px;border-radius:8px;border:1px solid rgba(15,23,42,0.06);outline:none;font-size:14px;background:#fff
    }

    /* responsive */
    @media (max-width:980px){
      .app{grid-template-columns: 1fr}
      .sidebar{position:relative;height:auto;border-right:0;border-bottom:1px solid rgba(15,23,42,0.04)}
      .header .search{max-width:45%}
    }
    @media (max-width:640px){
      .header .search{display:none}
      .kpis{flex-direction:column}
    }
  </style>
</head>
<body>
  <div class="app" id="app">
    <!-- Sidebar -->
    <aside class="sidebar" aria-label="Sidebar">
      <div class="brand">
        <img src="/mnt/data/7831cb01-37da-481c-a539-bf1b7251adea.png" alt="BankApp logo">
        <div>
          <h1>BankApp</h1>
          <div class="small">Admin Dashboard</div>
        </div>
      </div>

      <nav aria-label="Main navigation">
        <a class="nav-link active" href="#"><span>üè†</span> Dashboard</a>
        <a class="nav-link" href="#"><span>üë•</span> Users</a>
        <a class="nav-link" href="#"><span>üí∏</span> Transactions</a>
        <a class="nav-link" href="#"><span>üè¶</span> Accounts</a>
        <a class="nav-link" href="#"><span>üìÑ</span> Reports</a>
        <a class="nav-link" href="#"><span>‚öôÔ∏è</span> Settings</a>

        <div class="small" style="margin-top:16px">Management</div>
        <a class="nav-link" href="#" id="openAddUser"><span>‚ûï</span> Add User</a>
        <a class="nav-link" href="#" id="openAddBranch"><span>üèõÔ∏è</span> Add Branch</a>
      </nav>

      <div style="margin-top:18px;font-size:13px;color:var(--muted)">Logged in as <strong>admin@bankapp</strong></div>
    </aside>

    <!-- Main content -->
    <div>
      <header class="header" role="banner">
        <div style="display:flex;align-items:center;gap:12px">
          <button class="btn ghost small" id="toggleSidebar" aria-label="Toggle sidebar">‚ò∞</button>
          <div style="font-weight:700;font-size:16px">Admin Panel</div>
        </div>

        <div style="display:flex;align-items:center;gap:12px">
          <div class="search" role="search" aria-label="Search transactions">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="opacity:.6"><path d="M21 21l-4.35-4.35" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <input id="globalSearch" type="text" placeholder="Search users, txn id, account..." />
          </div>

          <div class="actions">
            <button class="btn ghost small" id="reportsBtn">Export</button>
            <div class="avatar">A</div>
          </div>
        </div>
      </header>

      <main class="main" role="main">
        <section class="kpis" aria-label="Key performance indicators">
          <div class="card kpi">
            <div>
              <div class="label">Total Users</div>
              <div class="value" id="totalUsers">1,254</div>
            </div>
            <div style="text-align:right">
              <div class="muted">Since last month</div>
              <div style="color:#0abf7f;font-weight:700">+4.5%</div>
            </div>
          </div>

          <div class="card kpi">
            <div>
              <div class="label">Total Balance</div>
              <div class="value" id="totalBalance">‡ß≥ 18,452,300</div>
            </div>
            <div style="text-align:right">
              <div class="muted">All accounts</div>
              <div style="color:#0abf7f;font-weight:700">+2.3%</div>
            </div>
          </div>

          <div class="card kpi">
            <div>
              <div class="label">Transactions Today</div>
              <div class="value" id="txToday">4,201</div>
            </div>
            <div style="text-align:right">
              <div class="muted">Successful</div>
              <div style="color:#0abf7f;font-weight:700">+98%</div>
            </div>
          </div>

          <div class="card kpi">
            <div>
              <div class="label">Pending Approvals</div>
              <div class="value" id="pending">32</div>
            </div>
            <div style="text-align:right">
              <div class="muted">Requires action</div>
              <div style="color:#b38600;font-weight:700">32</div>
            </div>
          </div>
        </section>

        <section class="panel" aria-label="Main panels">
          <div class="half card">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
              <div style="font-weight:800">Transactions Trend</div>
              <div class="muted">Last 7 days</div>
            </div>

            <!-- Simple SVG mini bar chart (demo) -->
            <div aria-hidden="true" style="height:120px;display:flex;align-items:flex-end;gap:8px;padding:6px 10px">
              <!-- Bars created by JS for accessibility reasons, see script for data -->
              <svg id="trendChart" width="100%" height="120" viewBox="0 0 700 120" preserveAspectRatio="none" style="display:block"></svg>
            </div>

            <div style="display:flex;gap:12px;margin-top:12px;align-items:center;flex-wrap:wrap">
              <div class="quick">
                <button class="btn" id="addUserBtn">Add User</button>
                <button class="btn ghost" id="addBranchBtn">Add Branch</button>
              </div>
            </div>
          </div>

          <div class="half card">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
              <div style="font-weight:800">Recent Users</div>
              <div class="muted">Newest accounts</div>
            </div>

            <div class="table-wrap" role="region" aria-label="Recent users table">
              <table>
                <thead>
                  <tr><th>User</th><th>Account</th><th>Balance</th><th>Status</th><th></th></tr>
                </thead>
                <tbody id="usersTable">
                  <!-- rows injected by JS -->
                </tbody>
              </table>
              <div style="display:flex;justify-content:space-between;align-items:center;padding:10px 6px">
                <div class="muted">Showing <span id="rowCount">5</span> of 1254 users</div>
                <div>
                  <button class="btn small" id="prevPage">Prev</button>
                  <button class="btn small" id="nextPage">Next</button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Management / Table section -->
        <section style="margin-top:18px">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
            <div style="font-weight:800">All Users</div>
            <div style="display:flex;gap:8px;align-items:center">
              <select id="filterStatus" style="padding:8px;border-radius:8px;border:1px solid rgba(15,23,42,0.06)">
                <option value="">All statuses</option>
                <option value="active">Active</option>
                <option value="suspended">Suspended</option>
                <option value="pending">Pending</option>
              </select>
              <button class="btn ghost small" id="exportBtn">Export CSV</button>
            </div>
          </div>

          <div class="table-wrap">
            <table>
              <thead>
                <tr><th>Name</th><th>Account</th><th>Email</th><th>Balance</th><th>Status</th></tr>
              </thead>
              <tbody id="allUsers">
                <!-- demo rows -->
              </tbody>
            </table>
          </div>
        </section>
      </main>
    </div>
  </div>

  <!-- Add User Modal -->
  <div class="modal-backdrop" id="modalBackdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <h2 id="modalTitle">Add New User</h2>
      <form id="addUserForm">
        <div class="form-row">
          <div class="form-group">
            <label for="uName">Full name</label>
            <input id="uName" type="text" required>
          </div>
          <div class="form-group">
            <label for="uEmail">Email</label>
            <input id="uEmail" type="email" required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="uAccount">Account Number</label>
            <input id="uAccount" type="text" required>
          </div>
          <div class="form-group">
            <label for="uBalance">Initial Balance</label>
            <input id="uBalance" type="number" min="0" step="0.01" value="0" required>
          </div>
        </div>

        <div style="display:flex;justify-content:flex-end;gap:10px;margin-top:12px">
          <button type="button" class="btn ghost" id="modalCancel">Cancel</button>
          <button type="submit" class="btn">Create User</button>
        </div>
      </form>
    </div>
  </div>

<script>
  (function(){
    // Demo data
    const usersDemo = [
      {name:'Amina Rahman', account:'1001001', email:'amina@example.com', balance:5020.50, status:'active'},
      {name:'Karim Khan', account:'1001002', email:'karim@example.com', balance:120.00, status:'pending'},
      {name:'Maya Chowdhury', account:'1001003', email:'maya@example.com', balance:1750.00, status:'active'},
      {name:'Rafi Ahmed', account:'1001004', email:'rafi@example.com', balance:230.75, status:'suspended'},
      {name:'Sadia Islam', account:'1001005', email:'sadia@example.com', balance:902.10, status:'active'},
    ];

    // Populate small users table
    function populateUsersTable(){
      const tbody = document.getElementById('usersTable');
      tbody.innerHTML = '';
      usersDemo.slice(0,5).forEach(u=>{
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${u.name}</td><td>${u.account}</td><td>${u.balance.toLocaleString(undefined,{minimumFractionDigits:2})}</td>
                        <td><span class="pill ${u.status==='active'?'success': u.status==='pending' ? 'warn' : 'gray'}">${u.status}</span></td>
                        <td style="text-align:right"><button class="btn small" data-account="${u.account}">View</button></td>`;
        tbody.appendChild(tr);
      });
      document.getElementById('rowCount').textContent = Math.min(5, usersDemo.length);
    }
    populateUsersTable();

    // Populate all users table (demo)
    const allUsersTbody = document.getElementById('allUsers');
    function populateAllUsers(){
      allUsersTbody.innerHTML='';
      for(let i=1;i<=12;i++){
        const name = `User ${i}`;
        const acc = '200' + (1000+i);
        const email = `user${i}@example.com`;
        const bal = (Math.random()*5000).toFixed(2);
        const status = ['active','pending','suspended'][Math.floor(Math.random()*3)];
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${name}</td><td>${acc}</td><td>${email}</td><td>‡ß≥ ${Number(bal).toLocaleString()}</td><td><span class="pill ${status==='active'?'success': status==='pending' ? 'warn' : 'gray'}">${status}</span></td>`;
        allUsersTbody.appendChild(tr);
      }
    }
    populateAllUsers();

    // Trend chart data
    const trendData = [420, 510, 380, 650, 590, 720, 680]; // demo values
    function drawTrend(){
      const svg = document.getElementById('trendChart');
      const w = 700, h = 120;
      svg.setAttribute('viewBox', `0 0 ${w} ${h}`);
      svg.innerHTML = '';
      const max = Math.max(...trendData) * 1.15;
      const gap = w / (trendData.length);
      trendData.forEach((v,i)=>{
        const barW = Math.max(16, gap*0.5);
        const x = i * gap + (gap - barW)/2 + 20;
        const barH = (v / max) * (h - 20);
        const y = h - barH - 10;
        const rect = document.createElementNS('http://www.w3.org/2000/svg','rect');
        rect.setAttribute('x', x);
        rect.setAttribute('y', y);
        rect.setAttribute('width', barW);
        rect.setAttribute('height', barH);
        rect.setAttribute('rx', 6);
        rect.setAttribute('fill', 'url(#g)');
        svg.appendChild(rect);
      });
      // gradient
      const defs = document.createElementNS('http://www.w3.org/2000/svg','defs');
      defs.innerHTML = `<linearGradient id="g" x1="0" x2="0" y1="0" y2="1">
        <stop offset="0%" stop-color="${'#667eea'}"/>
        <stop offset="100%" stop-color="${'#764ba2'}"/>
      </linearGradient>`;
      svg.appendChild(defs);
    }
    drawTrend();

    // Modal controls
    const modal = document.getElementById('modalBackdrop');
    function openModal(){ modal.style.display='flex'; modal.setAttribute('aria-hidden','false'); document.getElementById('uName').focus(); }
    function closeModal(){ modal.style.display='none'; modal.setAttribute('aria-hidden','true'); }
    document.getElementById('openAddUser').addEventListener('click', (e)=>{ e.preventDefault(); openModal(); });
    document.getElementById('addUserBtn').addEventListener('click', (e)=>{ e.preventDefault(); openModal(); });
    document.getElementById('modalCancel').addEventListener('click', ()=> closeModal());
    modal.addEventListener('click', (ev)=> { if(ev.target === modal) closeModal(); });

    // add user form
    document.getElementById('addUserForm').addEventListener('submit', function(e){
      e.preventDefault();
      const name = document.getElementById('uName').value.trim();
      const email = document.getElementById('uEmail').value.trim();
      const account = document.getElementById('uAccount').value.trim();
      const balance = Number(document.getElementById('uBalance').value) || 0;
      if(!name || !email || !account){ alert('Please fill required fields'); return; }
      // In real app: send to backend
      usersDemo.unshift({name,account,email,balance,status:'active'});
      populateUsersTable();
      populateAllUsers();
      closeModal();
      alert('User created (demo). Hook this up to your server to persist.');
    });

    // sidebar toggle for small screens
    const toggle = document.getElementById('toggleSidebar');
    toggle.addEventListener('click', function(){
      const app = document.getElementById('app');
      if(app.style.gridTemplateColumns === '1fr') app.style.gridTemplateColumns = '260px 1fr';
      else app.style.gridTemplateColumns = '1fr';
    });

    // search demo (client-side)
    document.getElementById('globalSearch').addEventListener('input', function(){
      const q = this.value.trim().toLowerCase();
      const rows = document.querySelectorAll('#allUsers tr');
      rows.forEach(r => {
        r.style.display = r.textContent.toLowerCase().includes(q) ? '' : 'none';
      });
    });

    // small handlers for other buttons
    document.getElementById('addBranchBtn').addEventListener('click', ()=> alert('Open Add Branch modal (not implemented in demo)'));
    document.getElementById('reportsBtn').addEventListener('click', ()=> alert('Exporting report... (demo)'));
    document.getElementById('exportBtn').addEventListener('click', ()=> alert('Export CSV (demo)'));

  })();
</script>
</body>
</html>
