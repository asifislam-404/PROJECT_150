<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BankApp ‚Äî User Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-1: #667eea;
      --bg-2: #764ba2;
      --glass: rgba(255,255,255,0.06);
      --card-bg: #ffffff;
      --muted: #7b7b90;
      --success: #16a34a;
      --danger: #ef4444;
      --radius: 14px;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(255,255,255,0.06), transparent), linear-gradient(135deg,var(--bg-1),var(--bg-2));
      -webkit-font-smoothing:antialiased;color:#111;
      padding:20px;
    }

    /* layout */
    .container{display:flex;gap:24px;max-width:1300px;margin:0 auto}

    /* SIDEBAR */
    .sidebar{
      width:260px;background:linear-gradient(180deg,rgba(255,255,255,0.98),#ffffff);
      border-radius:16px;padding:18px;box-shadow:0 6px 30px rgba(12,15,30,0.12);height:calc(100vh - 40px);position:sticky;top:20px;overflow:auto
    }
    .brand{display:flex;align-items:center;gap:12px;margin-bottom:14px}
    .brand .logo{width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg,var(--bg-1),var(--bg-2));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:20px}
    .brand h1{font-size:16px}

    .nav{margin-top:8px}
    .nav a{display:flex;align-items:center;gap:12px;padding:10px;border-radius:10px;color:var(--muted);text-decoration:none;margin-bottom:6px}
    .nav a.active, .nav a:hover{background:linear-gradient(90deg,var(--bg-1),var(--bg-2));color:#fff;box-shadow:0 8px 20px rgba(102,126,234,0.12)}
    .nav span.icon{width:36px;height:36;border-radius:8px;display:inline-flex;align-items:center;justify-content:center;background:#f5f7fb}

    /* MAIN */
    .main{flex:1}
    .topbar{display:flex;justify-content:space-between;align-items:center;gap:16px;margin-bottom:18px}
    .top-left{display:flex;align-items:center;gap:16px}
    .hamburger{display:none;padding:8px;border-radius:10px;background:linear-gradient(90deg,var(--bg-1),var(--bg-2));color:white;border:none}

    .welcome{background:rgba(255,255,255,0.98);padding:18px;border-radius:12px;box-shadow:0 8px 30px rgba(12,15,30,0.06);display:flex;align-items:center;justify-content:space-between;gap:12px}
    .welcome .greeting{line-height:1}
    .welcome h2{font-size:18px}
    .welcome p{color:var(--muted);font-size:13px}

    .profile{display:flex;align-items:center;gap:12px}
    .avatar{width:52px;height:52px;border-radius:12px;background:linear-gradient(135deg,var(--bg-1),var(--bg-2));display:flex;align-items:center;justify-content:center;color:white;font-weight:700}
    .profile .meta{font-size:13px}
    .btn-logout{background:transparent;border:1px solid rgba(0,0,0,0.06);padding:8px 12px;border-radius:10px;cursor:pointer}

    /* grid */
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:18px;margin-top:18px}

    .card{background:var(--card-bg);border-radius:var(--radius);padding:18px;box-shadow:0 10px 40px rgba(12,15,30,0.06)}
    .card.small{grid-column:span 3}
    .card.large{grid-column:span 6}
    .card.xlarge{grid-column:span 12}

    .kpi{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .kpi .left{display:flex;flex-direction:column}
    .kpi .label{color:var(--muted);font-size:13px}
    .kpi .value{font-size:22px;font-weight:700}
    .kpi .delta{font-size:13px}

    .actions{display:flex;gap:10px;flex-wrap:wrap}
    .action{padding:12px 14px;border-radius:10px;border:none;background:linear-gradient(90deg,#f4f7fb,#eef2ff);cursor:pointer;font-weight:600}
    .action.primary{background:linear-gradient(90deg,var(--bg-1),var(--bg-2));color:white}

    .transactions{display:flex;flex-direction:column;gap:10px}
    .tx{display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:10px;border:1px solid #f0f0f3}
    .tx .meta{display:flex;gap:12px;align-items:center}
    .tx .tag{width:44px;height:44;border-radius:10px;display:flex;align-items:center;justify-content:center;background:#f8fafc}
    .tx .desc{font-size:14px}
    .tx .time{color:var(--muted);font-size:12px}

    /* chart area */
    .chart-wrap{height:220px}

    /* responsive */
    @media (max-width:1000px){
      .card.small{grid-column:span 4}
      .card.large{grid-column:span 8}
    }
    @media (max-width:800px){
      .container{flex-direction:column}
      .sidebar{width:100%;height:auto;position:relative}
      .hamburger{display:inline-block}
      .grid{grid-template-columns:1fr}
      .card.small,.card.large{grid-column:span 1}
    }

    /* small flourish */
    .sparkle{display:inline-block;padding:6px 10px;border-radius:999px;background:linear-gradient(90deg,#f0f9ff,#e6fffa);font-weight:700;color:#0ea5a4}
  </style>
</head>
<body>
  <div class="container">
    <aside class="sidebar" id="sidebar">
      <div class="brand">
        <div class="logo">BA</div>
        <div>
          <h1>BankApp</h1>
          <div style="font-size:12px;color:var(--muted)">Personal account</div>
        </div>
      </div>

      <nav class="nav">
        <a href="#" class="active"><span class="icon">üìä</span> Dashboard</a>
        <a href="#"><span class="icon">üí≥</span>Accounts</a>
        <a href="#"><span class="icon">üîÅ</span>Transfers</a>
        <a href="#"><span class="icon">üí∞</span>Deposit</a>
        <a href="#"><span class="icon">üí∏</span>Withdraw</a>
        <a href="#"><span class="icon">üìÑ</span>Statements</a>
        <a href="#"><span class="icon">‚öôÔ∏è</span>Settings</a>
      </nav>

      <hr style="margin:18px 0;border:none;border-top:1px solid #f2f4f7">
      <div style="font-size:13px;color:var(--muted)">Helpful</div>
      <ul style="margin-top:10px;color:var(--muted);font-size:13px;line-height:1.8;list-style:none;padding-left:0">
        <li>üì¨ Support</li>
        <li>üîî Notifications</li>
        <li>üßæ Fees & Limits</li>
      </ul>
    </aside>

    <main class="main">
      <div class="topbar">
        <div class="top-left">
          <button class="hamburger" id="toggleSidebar">‚ò∞</button>
          <div class="welcome card" style="padding:14px">
            <div class="greeting">
              <h2>Welcome back, <span id="userName">User</span> üëã</h2>
              <p>Quick snapshot of your accounts and activity</p>
            </div>
            <div class="profile">
              <div class="avatar" id="profilePic">AB</div>
              <div class="meta">
                <div id="displayName" style="font-weight:700">Full Name</div>
                <div id="displayEmail" style="color:var(--muted);font-size:12px">email@example.com</div>
              </div>
              <button class="btn-logout" onclick="logout()">Logout</button>
            </div>
          </div>
        </div>

        <div style="display:flex;gap:10px;align-items:center">
          <div class="sparkle">Premium</div>
          <button class="action">Help</button>
          <button class="action primary">New Transfer</button>
        </div>
      </div>

      <div class="grid">
        <!-- KPIs -->
        <section class="card small">
          <div class="kpi">
            <div class="left">
              <div class="label">Total Balance</div>
              <div class="value" id="totalBalance">$0.00</div>
            </div>
            <div style="text-align:right">
              <div class="delta" id="balanceDelta" style="color:var(--success)">‚ñ≤ 5.2%</div>
            </div>
          </div>
        </section>

        <section class="card small">
          <div class="kpi">
            <div class="left">
              <div class="label">Income (30d)</div>
              <div class="value" id="incomeVal">$0.00</div>
            </div>
            <div style="text-align:right;color:var(--success)">‚ñ≤</div>
          </div>
        </section>

        <section class="card small">
          <div class="kpi">
            <div class="left">
              <div class="label">Expenses (30d)</div>
              <div class="value" id="expenseVal">$0.00</div>
            </div>
            <div style="text-align:right;color:var(--danger)">‚ñº</div>
          </div>
        </section>

        <section class="card small">
          <div class="kpi">
            <div class="left">
              <div class="label">Savings Goal</div>
              <div class="value" id="savingsVal">78%</div>
            </div>
            <div style="text-align:right"><small class="time" style="color:var(--muted)">Target: $20,000</small></div>
          </div>
        </section>

        <!-- Chart -->
        <section class="card large">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
            <div>
              <div style="font-weight:700">Spending vs Income</div>
              <div style="font-size:13px;color:var(--muted)">Last 6 months</div>
            </div>
            <div style="font-size:13px;color:var(--muted)">UTC ‚Ä¢ <span id="todayDate"></span></div>
          </div>
          <div class="chart-wrap">
            <canvas id="chart"></canvas>
          </div>
        </section>

        <!-- Recent transactions -->
        <section class="card large">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
            <div style="font-weight:700">Recent Transactions</div>
            <button class="action">View all</button>
          </div>

          <div class="transactions" id="txList">
            <!-- JS will inject transaction items -->
          </div>
        </section>

        <!-- Quick Actions -->
        <section class="card xlarge">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
            <div style="font-weight:700">Quick Actions</div>
            <div style="color:var(--muted);font-size:13px">Tap to start</div>
          </div>
          <div style="display:flex;gap:12px;flex-wrap:wrap">
            <button class="action primary" onclick="openTransfer()">üîÅ Transfer</button>
            <button class="action" onclick="openDeposit()">üíµ Deposit</button>
            <button class="action" onclick="openWithdraw()">üí∏ Withdraw</button>
            <button class="action" onclick="openAccount()">‚ûï New Account</button>
            <button class="action" onclick="openReports()">üìä Reports</button>
          </div>
        </section>
      </div>
    </main>
  </div>

  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    // small helper
    const fmt = (v) => v.toLocaleString(undefined, {style:'currency',currency:'USD'});

    // sidebar toggle on small screens
    const toggle = document.getElementById('toggleSidebar');
    const sidebar = document.getElementById('sidebar');
    if(toggle){toggle.addEventListener('click', ()=>{sidebar.style.display = sidebar.style.display === 'none' ? 'block' : 'none'});}

    // load sample user data from localStorage (set by signup/login flow)
    window.addEventListener('load', ()=>{
      const user = JSON.parse(localStorage.getItem('currentUser')) || {name:'John Doe',email:'john@example.com'};
      document.getElementById('userName').textContent = user.name.split(' ')[0];
      document.getElementById('displayName').textContent = user.name;
      document.getElementById('displayEmail').textContent = user.email;
      const initials = user.name.split(' ').map(n=>n[0]).join('').slice(0,2).toUpperCase();
      document.getElementById('profilePic').textContent = initials;

      // sample balances & transactions (replace with real backend data)
      const accounts = [{balance:45678.9},{balance:1200.5}];
      const total = accounts.reduce((s,a)=>s+a.balance,0);
      document.getElementById('totalBalance').textContent = fmt(total);
      document.getElementById('incomeVal').textContent = fmt(12340);
      document.getElementById('expenseVal').textContent = fmt(8456.5);
      document.getElementById('savingsVal').textContent = '78%';

      const txs = [
        {type:'deposit',title:'Salary Deposit',date:'2025-11-20 10:30',amount:5000},
        {type:'withdraw',title:'Grocery Shopping',date:'2025-11-19 15:45',amount:-250.75},
        {type:'transfer',title:'Transfer to John S.',date:'2025-11-18 13:20',amount:-1200},
        {type:'deposit',title:'Freelance Payment',date:'2025-11-17 09:15',amount:800},
        {type:'withdraw',title:'Utility Bills',date:'2025-11-16 11:30',amount:-180.5}
      ];

      const txList = document.getElementById('txList');
      txs.forEach(t=>{
        const el = document.createElement('div'); el.className='tx';
        el.innerHTML = `
          <div class=\"meta\"> 
            <div class=\"tag\">${t.type==='deposit'? 'üíµ': t.type==='withdraw'?'üí∏':'üîÑ'}</div>
            <div>
              <div class=\"desc\">${t.title}</div>
              <div class=\"time\">${t.date}</div>
            </div>
          </div>
          <div style=\"font-weight:700;color:${t.amount>0?'var(--success)':'var(--danger)'}\">${t.amount>0?'+':'-'}${Math.abs(t.amount).toLocaleString()}</div>
        `;
        txList.appendChild(el);
      });

      // render chart (Chart.js)
      const ctx = document.getElementById('chart').getContext('2d');
      const labels = ['Jun','Jul','Aug','Sep','Oct','Nov'];
      const income = [4000,5200,6100,7200,8300,9000];
      const expense = [2500,2800,3700,4200,4100,3800];

      new Chart(ctx,{
        type:'line',
        data:{labels, datasets:[{label:'Income',data:income,tension:0.4,fill:true,backgroundColor:'rgba(102,126,234,0.12)',borderColor:'rgba(102,126,234,1)'},{label:'Expense',data:expense,tension:0.4,fill:true,backgroundColor:'rgba(245, 88, 88, 0.08)',borderColor:'rgba(245,88,88,0.85)'}]},
        options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'bottom'}},scales:{y:{ticks:{callback:function(v){return '$'+v}}}}
      });

      // date
      document.getElementById('todayDate').textContent = new Date().toLocaleDateString();
    });

    function logout(){
      if(confirm('Logout?')){localStorage.removeItem('currentUser');window.location.href='login.html'}
    }

    function openTransfer(){alert('Open transfer modal / page')}
    function openDeposit(){alert('Open deposit modal / page')}
    function openWithdraw(){alert('Open withdraw modal / page')}
    function openAccount(){alert('Open create account flow')}
    function openReports(){alert('Open reports view')}
  </script>
</body>
</html>
